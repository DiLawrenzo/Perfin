<ion-view view-title="Incomes">
    <ion-content ng-class="{expanded:isExpanded}" >
        <div class="list card text-center">
          <h3 class="">Add an Income</h3>
            <div class="item item-body ">
                <div class="item card-item card-stable  ">
                    <form ng-submit="submit()">
                      <label class="item item-input">
                          <input class="form-control" type="number" placeholder="Amount" ng-model="data.amount"></input>
                      </label>
                      <label class="item item-input">
                        <input type="text" 
                        placeholder="Pick date" 
                        ng-model="datepicker"
                        ng-controller="DatepickerCtrl" 
                        name="datepicker" 
                        ng-click="opendateModal()" 
                        readonly>
                      </label>
                      <label class="item item-input">
                          <input type="text" placeholder="Name" ng-model="data.title">
                      </label>
                      <label class="item item-input">
                          Account  &nbsp; <select class="item item-input form-control" ng-model="data.account">
                            <option value="family bank">Family Bank</option>
                            <option value="mpesa">M-Pesa</option>
                            <option value="equity bank">Equity Bank</option>
                            <option value="cash">Cash</option>
                          </select>
                      </label>
                      <label class="item item-input">
                          <textarea type="text" placeholder="Notes" ng-model="data.notes"lo></textarea> 
                      </label>
                      <button class="button button-block button-calm ink ink-dark" type="submit" >Add</button>
                      
                    </form>
                </div>
                Total Income so far: <h1 class="dark item-text-wrap">{{totals()}}</h1>
            </div>
        </div>
        <div ui-sref="app.gallery" class="card ">
        <ion-list>    
          <ion-item class="item stable-bg card ink ink-dark animate-fade-slide-in" ng-repeat="income in incomes " type="item-text-wrap" >
                <div class="item item-avatar item-text-wrap">
                    <span class="avatar" style="background-image: url('img/jon-snow.jpg');" alt=""></span>
                    <span>{{income.id}}. &nbsp;
                     <strong>{{income.iname}}</strong>
                      &nbsp; - &nbsp; <strong>{{income.amount}}</strong>
                    </span>

                    <ion-option-button class="button-assertive" ng-click="remove(income)">
                      Delete
                    </ion-option-button>
                    <div class="card-footer text-right">
                        <span><i class="icon ion-chevron-right icon-accessory"></i></span>
                        <div class="pull-left">
                            <i class="icon ion-clock"></i> {{income.date}}  &nbsp;&nbsp;&nbsp; {{income.account}}
                        </div>
                    </div>
                </div>
                        
          </ion-item>
          </div>
        </ion-list>
        <div class="item card-item">
            <div ui-sref="app.gallery" class="card stable-bg ink ink-dark">
                <div class="item item-avatar item-text-wrap">
                    <span class="avatar" style="background-image: url('img/tyrion.jpg');"></span>
                    <strong>Tyrion Lannister</strong> says "Perhaps that is the secret. It is not what we do, so much as why we do it."
                    <div class="card-footer text-right">
                        <i class="icon ion-chatbubble positive"></i> 2
                        <i class="icon ion-heart assertive"></i> 4
                        <div class="pull-left">
                            <i class="icon ion-clock"></i> 12 mins ago
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
    </ion-content>
</ion-view>
